<div class="product">
    <mat-card-header>
        <mat-card-title>{{product.name}}</mat-card-title>
        <mat-card-subtitle>Quantit√©:  {{product.quantite}}</mat-card-subtitle>
    </mat-card-header>

    <img [attr.src]="serverImg+product.logo" (click)="startFabrication()" width="250px" />

    <mat-card-content>

        <div class="cout">
            <span>Revenu : {{product.revenu}} $  </span>
        </div>

        <div class="time">
            <span> <mat-icon matSuffix>timer</mat-icon>  {{product.vitesse/1000}} sec </span>  <span *ngIf="product.timeleft  != 0">{{product.timeleft/1000}}</span>
        </div>
        
        <div class="production">
            <mat-progress-bar [value]="progressbarvalue" ></mat-progress-bar>
            <p [innerHTML]="product.revenu * product.quantite * (1 + (activeAngels * angelBonus) / 100) | bigvalue"></p>
        </div>
    </mat-card-content>

    <mat-card-actions>
        <button mat-flat-button color="primary" [disabled]="calcCanBuy()==0" (click)="buy()">
            <div class="achat">
                <div>
                    Buy <br/>
                    {{ calcCanBuy()>0 ? "x"+calcCanBuy() : (qtmulti==0 ? 1 : qtmulti) }}
                </div>
                <div [innerHTML]="getPrix(calcCanBuy()>0 ? calcCanBuy() : (qtmulti==0 ? 1 : qtmulti)) | bigvalue"></div>
            </div>
        </button>
    </mat-card-actions>

</div>
